---
tags:
  - ëª¨ìŒì§‘
  - ì¼ê¸°
---

## âœï¸ ì¼ê¸° ëª¨ìŒ

> [!info] ì´ ë…¸íŠ¸ ì •ë³´
> ë°ì¼ë¦¬ ë…¸íŠ¸ì˜ "ìžìœ ë¡­ê²Œ â†’ ì˜¤ëŠ˜ì˜ ì¼ê¸°" ì¹¸ì— ìž‘ì„±í•œ ëª¨ë“  ë‚´ìš©ì„ ë‚ ì§œë³„ë¡œ ëª¨ì•„ì„œ ë³´ì—¬ì¤ë‹ˆë‹¤.

---

```dataviewjs
const pages = dv.pages('"b. Dairy/1. Daily"')
  .sort(p => p.file.name, 'desc');

for (let page of pages) {
  const content = await dv.io.load(page.file.path);
  const lines = content.split('\n');

  let inDiary = false;
  let diaryContent = [];

  for (let i = 0; i < lines.length; i++) {
    const line = lines[i];

    // "ì˜¤ëŠ˜ì˜ ì¼ê¸°" ì½œì•„ì›ƒ ì‹œìž‘ ê°ì§€
    if (line.includes('[!diary]') && line.includes('ì˜¤ëŠ˜ì˜ ì¼ê¸°')) {
      inDiary = true;
      continue;
    }

    // ì½œì•„ì›ƒ ë‚´ìš© ìˆ˜ì§‘
    if (inDiary) {
      if (line.startsWith('>')) {
        const text = line.replace(/^>\s?/, '');
        diaryContent.push(text);
      } else if (line.trim() === '' && diaryContent.length > 0) {
        // ë¹ˆ ì¤„ì´ì§€ë§Œ ì•„ì§ ì½œì•„ì›ƒ ì•ˆ
        continue;
      } else if (!line.startsWith('>')) {
        // ì½œì•„ì›ƒ ë
        break;
      }
    }
  }

  // ë‚´ìš©ì´ ìžˆìœ¼ë©´ ì¶œë ¥
  const cleanContent = diaryContent.filter(l => l.trim().length > 0);
  if (cleanContent.length > 0) {
    dv.header(3, `ðŸ“… ${page.file.name}`);
    dv.paragraph(cleanContent.join('\n'));
    dv.paragraph('---');
  }
}
```
